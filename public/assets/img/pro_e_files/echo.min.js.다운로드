/*! For license information please see echo.min.js.LICENSE.txt */
var Echo;!function(){"use strict";!function(){const e="echo_session_start_timestamp",t="unsent",n={ALT_TEXT_COLLECTION:"alt_text_collection",CUMULATIVE_LAYOUT_SHIFT:"cumulative_layout_shift",CUSTOM_EVENT_FOR_DATABASE:"custom_event",CUSTOM_EVENT_FOR_CLIENT:"echoCustomEvent",ECHO_FEATURE:"echoFeatureEvent",ERROR:"error",FIRST_INPUT_DELAY:"first_input_delay",INTERACTION_EVENT_FOR_DATABASE:"interaction",INTERACTION_EVENT_FOR_CLIENT:"echoInteractionEvent",LARGEST_CONTENTFUL_PAINT:"largest_contentful_paint",LOG_EVENT_FOR_DATABASE:"log",LOG_EVENT_FOR_CLIENT:"echoLogEvent",NETWORK_ERROR:"network_error",PAGE_VIEW:"pageview",PAINT:"paint",PARTIAL_PAGEVIEW:"partial_pageview",PERFORMANCE_MEASURE:"performance_measure",PERFORMANCE_NOW_FOR_DATABASE:"performance_now",PERFORMANCE_NOW_FOR_CLIENT:"echoPerformanceNowEvent",RESOURCE:"resource",UNLOAD:"unload",VISIBILITY_CHANGE:"visibility_change"};let r=[];function o(){r=[]}function i(){return r}function a(e=[]){r=[...r,...Array.isArray(e)?e:[e]]}function c(){const e=[],t=t=>e.find((e=>e.fn===t||e.key===t));return{add:t=>e.push({...t,active:!1!==t.active,set:function(e,t){this[e]=t}}),set:(e,n,r)=>{const o=t(e);o&&o.set(n,r)},mergeConfig:e=>{Object.keys(e).forEach((n=>{const r=t(n);r&&(!r.data&&e[n]&&r.set("active",!0),r.set("data",e[n]))}))},serialize:()=>e.filter((e=>e.active)).map((e=>[e.fn,e.data])),dump:()=>e}}function s(e){if(!e)return null;const t=new URL(e);return t.search="query",t.href}const u=e=>({...e,...e.pageUrl&&{pageUrl:s(e.pageUrl)},...e.referer&&{referer:s(e.referer)},...e.errorUrl&&{errorUrl:s(e.errorUrl)}}),f=({eventType:e,eventData:t},n)=>({app:n.app,eventType:e,postTime:Date.now(),...n.eventDataDefaults,...t,...n.pageViewId&&{pageViewId:n.pageViewId}});function l({config:e,eventType:t,eventData:n}){const r=c();!function(e,t){const n=t.transforms||[];"function"==typeof t.sanitizeEventData&&n.push(t.sanitizeEventData),n.forEach((n=>e.add({fn:n,data:t})))}(r,e),r.add({fn:u}),r.add({fn:f,data:e});const o=r.serialize();return(i=o,function(e){let t=e;for(let e=i.length-1;e>=0;e--){const[n,r]=i[e];if(t=n(t,r),!1===t)return!1}return t})({eventType:t,eventData:n});var i}function d({storage:e=sessionStorage,pct:t=0}={}){const n=e&&e.getItem("echo:altTextEventSampleRatePct");return n?Number(n):t}function p({storage:e=sessionStorage,pct:t=0}={}){const n=e&&e.getItem("echo:altTextEventSampleRatePct");return n?Number(n):t}function g({storage:e=sessionStorage,pct:t=0}={}){const n=e&&e.getItem("echo:interactionEventSampleRatePct");return n?Number(n):t}function m({storage:e=sessionStorage,pct:t=0}={}){const n=e&&e.getItem("echo:performanceMeasureEventSampleRatePct");return n?Number(n):t}function E({storage:e=sessionStorage,pct:t=0}={}){const n=e&&e.getItem("echo:performanceNowEventSampleRatePct");return n?Number(n):t}function v({storage:e=sessionStorage,pct:t=0}={}){const n=e&&e.getItem("echo:resourceEventSampleRatePct");return n?Number(n):t}function w({suppliedRand:e,rate:t=100}){const n=100*Math.random();return(e||n)<=t}function T(e,t){try{return e()}catch(e){return t&&a(l({config:t,eventType:n.ERROR,eventData:{errorMsg:e.message}})),null}}function h(e,t,n){if(n[e]>0&&n[t]>0){const r=n[t]-n[e];return r>0?r:0}return 0}function y(e){if(!e)return{};const t=new URL(e);return t.protocol.startsWith("http")||(t.pathname="pathname"),t}const S=[!0,"true",1,"1"],R={url:null,sendErrors:!1,sendPageViewData:!1,delaySendingPageViewDataMS:500,logRequests:("echo:logRequests",T((()=>S.includes(sessionStorage.getItem("echo:logRequests"))))),performanceMeasurePollingIntervalMS:1e3,sendResourceData:!1,resourceDisallowedResourceList:[],resourcePollingIntervalMS:2e3,altTextEventSampleRatePct:0,customEventSampleRatePct:0,interactionEventSampleRatePct:0,performanceMeasureEventSampleRatePct:0,performanceNowEventSampleRatePct:0,resourceEventSampleRatePct:0,transforms:[e=>e]};const N=y(window.location),_={host:N.host,pageHostname:N.hostname,pagePathname:N.pathname,pageUrl:N.href,pageViewId:`${window.crypto&&window.crypto.getRandomValues?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return`${("x"==e?t:3&t|8).toString(16)}-legacy`}))}`,sessionStartTS:function(){const t=T((()=>sessionStorage.getItem(e)));return null!==t?parseInt(t,10):function(){const t=Date.now();return T((()=>sessionStorage.setItem(e,`${t}`))),t}()}()},O={pageViewDataState:t};let A=null;const b=({crypto:e={}})=>({exists:!!e.subtle}),L=({navigator:e={},NetworkInformation:t})=>({exists:!("function"!=typeof t||"object"!=typeof e.connection)}),C=(e,t)=>t&&(t.supportedEntryTypes||[]).includes(e),I=e=>{const t={exists:!1};if(!e.performance)return t;t.exists=!0,t.timeline=0;const n=e.PerformanceObserver;return n&&(t.timeline=1.5,"function"==typeof new n((()=>{})).takeRecords&&(t.timeline=2)),t.hasMeasures="function"==typeof e.performance.getEntriesByType&&"function"==typeof e.performance.clearMeasures&&C("measure",n),t.navigationTiming=0,C("navigation",n)?t.navigationTiming=2:e.performance.timing&&(t.navigationTiming=1),t.resourceTiming=0,C("resource",n)&&(t.resourceTiming=2),t.hasResourceTimingBuffer="function"==typeof e.performance.clearResourceTimings,t};function P(e=window){return A||(A={crypto:b(e),networkInfo:L(e),perf:I(e)}),A}function x({config:e}){const t=function({config:e}){if(!P().perf.hasMeasures)return[];const t=window.performance.getEntriesByType("measure").filter((e=>e.name.startsWith("echo-")));return t.forEach((({name:e})=>window.performance.clearMeasures(e))),t.map((t=>l({config:e,eventType:n.PERFORMANCE_MEASURE,eventData:{...t.toJSON(),sampleRate:e.performanceMeasureEventSampleRatePct}})))}({config:e});return t.length>0&&a(t)}function D({config:e}){function t(){return x({config:e})}return{start:()=>{P().perf.hasMeasures&&window.setInterval((()=>x({config:e})),e.performanceMeasurePollingIntervalMS),P().perf.hasResourceTimingBuffer&&window.addEventListener("resourcetimingbufferfull",t)}}}const U={};function M({config:e}){return a(function({config:e}){const t=[];if(!P().perf.hasMeasures)return t;const r=window.performance.getEntriesByType("resource");for(const o of r){const r=l({config:e,eventType:n.RESOURCE,eventData:{...F(o),sampleRate:e.resourceEventSampleRatePct}});k({event:r,config:e})&&t.push(r)}return t}({config:e}))}function F(e){const t=e.toJSON();!function(e){const t=h("redirectStart","redirectEnd",e),n=h("fetchStart","domainLookupStart",e),r=(u=e,h("domainLookupStart","domainLookupEnd",u)),o=function(e){return h("secureConnectionStart","connectionStart",e)}(e),i=function(e){return h("secureConnectionStart","connectEnd",e)}(e),a=function(e){return h("requestStart","responseStart",e)}(e),c=function(e){return h("responseStart","responseEnd",e)}(e),s=e.duration-(t+n+r+o+i+a+c);var u;e.redirect=t,e.appcache=n,e.dns=r,e.connect=o,e.tls=i,e.ttfb=a,e.download=c,e.queued=s}(t);for(const[e,n]of Object.entries(t))isNaN(n)?t[e]=n:n>0&&(t[e]=Number.parseFloat(n.toFixed(3)));return t.serverTiming&&delete t.serverTiming,t.entryType&&delete t.entryType,t}function k({event:e,config:t}){if(t.url.split(",").includes(e.name))return!1;const n=e.name+e.startTime;return w({rate:v({pct:t.resourceEventSampleRatePct})})?!((t.resourceDisallowedResourceList||[]).filter((e=>Boolean(e))).filter((t=>e.name.match(t))).length>0||!0===U[n]||(U[n]=!0,0)):(U[n]=!0,!1)}function B({config:e}){function t(){return M({config:e})}return{start:()=>{P().perf.resourceTiming>=2&&window.setInterval((()=>M({config:e})),e.resourcePollingIntervalMS),P().perf.hasResourceTimingBuffer&&window.addEventListener("resourcetimingbufferfull",t)}}}const V=new Set(["connectEnd","connectStart","domainLookupEnd","domainLookupStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","fetchStart","loadEventEnd","loadEventStart","requestStart","responseEnd","responseStart"]),q=new Set(["redirectEnd","redirectStart","secureConnectionStart","unloadEventEnd","unloadEventStart",...V]);function W(e=P(),t=window){const n=e.perf;let r={};if(!n.exists)return r;if(2===n.navigationTiming){const e=t.performance.getEntriesByType("navigation");e.length>0&&"function"==typeof e[0].toJSON&&(r={...e[0].toJSON(),NavigationTimingLevel:2})}else if(1===n.navigationTiming){const e=t.performance.timing,n=Object.keys(e).filter((e=>q.has(e))).reduce(((t,n)=>V.has(n)?{...t,[n]:e[n]-e.navigationStart}:{...t,[n]:e[n]}),{});r={...n,NavigationTimingLevel:1}}return e.networkInfo.exists&&(r.networkDownlink=t.navigator.connection.downlink||null,r.networkEffectiveType=t.navigator.connection.effectiveType||null,r.networkRtt=t.navigator.connection.rtt||null),r.imageCountOnLoad=document.images.length,r.support={subtleCrypto:e.crypto.exists},r}function J({config:e,triggeredBy:t="load",eventType:r=n.PAGE_VIEW}){const o={triggeredBy:t,...W()},i=y(document.referrer);return o.referer=i.href,l({config:e,eventType:r,eventData:o})}function j({url:e,bundle:t,keepalive:n=!1}){return new Request(e,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),keepalive:n})}function Y({config:e,bundle:t}){const n=e.url.split(","),r=n[0],o=n[1];return o&&fetch(j({url:o,bundle:t})).catch((e=>console.error(e))),fetch(j({url:r,bundle:t}))}let z=0;function H({config:e,batch:t}){const n=(({events:e=[]}={})=>({deliveryVersion:"1.0",postTime:Date.now(),events:e.sort(((e,t)=>e.eventType.localeCompare(t.eventType)))}))({events:t});return o(),function({config:e,bundle:t}){!0===e.logRequests&&(console.info("%c/** ------------ Echo bundle begin ------------","color: skyblue"),console.info(`sent  to ${e.url}`),console.info(`sent at ${new Date(t.postTime)}`),t.events.forEach((e=>{console.info({[e.eventType]:e})})),console.info("%c------------ Echo bundle end ------------ **/","color: skyblue"))}({config:e,bundle:n}),n}function G({config:e}){const t=()=>{window.setTimeout((()=>(function({config:e}){const t=J({config:e});e.flags.pageViewDataState="complete",a(t)}({config:e}),function({config:e}){if(z>=3)return!1;const t=i();if(t.length>0){const r=H({config:e,batch:t});return Y({config:e,bundle:r}).then((()=>{z=0})).catch((r=>(z+=1,a([...i(),...t]),a(l({config:e,eventType:n.NETWORK_ERROR,eventData:{errorMsg:r.message,tries:`${z} of 3`}})))))}return!1}({config:e}))),e.delaySendingPageViewDataMS)};return{start:()=>{"complete"==document.readyState?t():window.addEventListener("load",t)}}}var Q=({config:e})=>{let t=0;const r={};function o(o){const i=y(o.filename),c=function({event:e}){return{errorMsg:e.message,errorCol:e.colno,errorLine:e.lineno,message:e.message,colno:e.colno,lineno:e.lineno,name:e.name,stack:e.error&&e.error.stack}}({event:o});c.errorUrl=i.href,c.filename=i.href,c.id="echo/uncaught-error",c.type="error",t+=1;const s=`${c.message} @ ${c.filename}:${c.lineno}:${c.colno}`,u=r[s]||0;if(r[s]=u+1,u>0)return window.console&&window.console.log(`Repeated error (${u} times): ${s}`);const f=l({config:e,eventType:n.ERROR,eventData:c});return window.console&&window.console.error("Error:",f),a(f)}return{start:()=>window.addEventListener("error",o)}};function Z({config:e}){function t(t){return a(l({config:e,eventType:n.CUSTOM_EVENT_FOR_DATABASE,eventData:{...t.detail,sampleRate:e.customEventSampleRatePct}}))}const r=n.CUSTOM_EVENT_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function K({config:e}){function t(t){const{id:r}=t.detail;return a(l({config:e,eventType:n.INTERACTION_EVENT_FOR_DATABASE,eventData:{id:r,timeOrigin:performance.timeOrigin,performanceNow:performance.now(),sampleRate:e.interactionEventSampleRatePct}}))}const r=n.INTERACTION_EVENT_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function X({config:e}){function t(t){const r=t.detail&&"error"===t.detail.type?n.ERROR:n.LOG_EVENT_FOR_DATABASE;return a(l({config:e,eventType:r,eventData:t.detail}))}const r=n.LOG_EVENT_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function $({config:e}){function t(t){const r=n.PERFORMANCE_NOW_FOR_DATABASE,{id:o,performanceNow:i}=t.detail;return a(l({config:e,eventType:r,eventData:{id:o,performanceNow:i,sampleRate:e.performanceNowEventSampleRatePct,...W()}}))}const r=n.PERFORMANCE_NOW_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function ee({config:e,getFirstHiddenTime:t}){if(P().perf.timeline<2)return()=>!1;const r=[];let o,i;function c(e){(e.renderTime||e.loadTime)<t()&&(i=function(e){const t={};return t.time=e.renderTime||e.loadTime,t.id=e.element&&e.element.id,t.tagName=e.element&&e.element.tagName,t.xPath=e.element&&((n=e.element)&&n.id?`//*[@id="${n.id}"]`:function(e){let t=[];for(;e&&e.nodeType==Node.ELEMENT_NODE;e=e.parentNode){let n=0,r=!1;for(let t=e.previousSibling;t;t=t.previousSibling)t.nodeType!=Node.DOCUMENT_TYPE_NODE&&t.nodeName==e.nodeName&&++n;for(let t=e.nextSibling;t&&!r;t=t.nextSibling)t.nodeName==e.nodeName&&(r=!0);let o=(e.prefix?e.prefix+":":"")+e.localName,i=n||r?"["+(n+1)+"]":"";t.splice(0,0,o+i)}return t.length?"/"+t.join("/"):null}(n)),t.area=e.size,e.url&&(t.url=e.url),t;var n}(e),r.unshift(i),r.length>3&&r.pop())}const s=new PerformanceObserver((e=>{e.getEntries().forEach(c)}));return s.observe({type:"largest-contentful-paint",buffered:!0}),function(){if(s.takeRecords().forEach(c),i!==o)return o=i,a(l({config:e,eventType:n.LARGEST_CONTENTFUL_PAINT,eventData:{lcp:i,lcpHistory:r,...i}}))}}function te({config:e,triggeredBy:r}){let o=[];if(e.flags.pageViewDataState==t){let t="partial";const i=J({config:e,eventType:n.PARTIAL_PAGEVIEW,triggeredBy:r});e.flags.pageViewDataState=t,o=o.concat(i)}return o=[...o,...i()],o.length>0&&async function({config:e,bundle:t}){return"keepalive"in new Request("")?function({config:e,bundle:t}){const n=e.url.split(","),r=n[0],o=n[1];try{return o&&fetch(j({url:o,bundle:t,keepalive:!0})).catch((e=>console.error(e))),fetch(j({url:r,bundle:t,keepalive:!0}))}catch(e){return console.log(e)}}({config:e,bundle:t}):navigator.sendBeacon?function({config:e,bundle:t}){const n=e.url.split(","),r=n[0],o=n[1];return o&&navigator.sendBeacon(o,new Blob([JSON.stringify(t)],{type:"application/json; charset=UTF-8"})),navigator.sendBeacon(r,new Blob([JSON.stringify(t)],{type:"application/json; charset=UTF-8"}))}({config:e,bundle:t}):Y({config:e,bundle:t})}({config:e,bundle:H({config:e,batch:o})})}let ne=new Set;function re(e){if("svg"===e.nodeName.toLowerCase()){if(e.getAttribute("aria-label"))return e.getAttribute("aria-label")||"";if(e.getAttribute("aria-labelledby")){let t=[];const n=e.getAttribute("aria-labelledby").split(" ");for(let e=0;e<n.length;e++){let r=document.getElementById(n[e]).textContent.trim();t.push(r??"{ No element with ID. }")}return t.length?t.join(" "):""}}else if(e.querySelector("title"))return e.querySelector("title").textContent||"";return e.getAttribute("alt")||""}var oe=({config:e})=>{let t="hidden"===document.visibilityState?0:1/0;const r=()=>t,o=e=>{t=Math.min(t,e.timeStamp)};let i=()=>!1;const c=ee({config:e,getFirstHiddenTime:r});function s(){if("hidden"===document.visibilityState)return i(),c(),function({config:e}){ne.size>0&&(a(l({config:e,eventType:n.ALT_TEXT_COLLECTION,eventData:{imageData:Array.from(ne),sampleRate:e.altTextEventSampleRatePct}})),ne.clear())}({config:e}),te({config:e,triggeredBy:n.VISIBILITY_CHANGE})}return function({config:e,getFirstHiddenTime:t}){if(P().perf.timeline<=1)return!1;function r({name:r,entryType:o,startTime:i,duration:c,processingStart:s,processingEnd:u,cancelable:f}){if(i<t())return a(l({config:e,eventType:n.FIRST_INPUT_DELAY,eventData:{name:r,fid:s-i,entryType:o,startTime:i,duration:c,processingStart:s,processingEnd:u,cancelable:f}}))}new PerformanceObserver((e=>{e.getEntries().forEach(r)})).observe({type:"first-input",buffered:!0})}({config:e,getFirstHiddenTime:r}),function({config:e,getFirstHiddenTime:t}){if(P().perf.timeline<=1)return!1;function r(r){if(r.startTime<t())return a(l({config:e,eventType:n.PAINT,eventData:{name:r.name,entryType:r.entryType,startTime:r.startTime,duration:r.duration}}))}new PerformanceObserver((e=>{e.getEntries().forEach(r)})).observe({type:"paint",buffered:!0})}({config:e,getFirstHiddenTime:r}),i=function({config:e}){if(P().perf.timeline<2)return()=>!1;let t,r=0;function o(e){e.hadRecentInput||(r+=e.value)}const i=new PerformanceObserver((e=>{e.getEntries().forEach(o)}));return i.observe({type:"layout-shift",buffered:!0}),function(){return r!==t&&(t=r,i.takeRecords().forEach(o),a(l({config:e,eventType:n.CUMULATIVE_LAYOUT_SHIFT,eventData:{cls:r}})))}}({config:e}),{start:()=>{document.addEventListener("visibilitychange",s,!0),document.addEventListener("visibilitychange",o,{once:!0})}}},ie=({config:e})=>{function t(){return te({config:e,triggeredBy:n.UNLOAD})}return{start:()=>window.addEventListener("unload",t)}};function ae({config:e}){const t=()=>{Array.from(document.querySelectorAll("img, svg")).map((e=>{ne.add({nodeName:e.nodeName.toLowerCase(),src:e.src,alt:re(e)})})),function(){const e=document.body;new MutationObserver((function(e){for(const t of e)if("childList"===t.type&&t.addedNodes.length)for(const e of t.addedNodes)"img"!==e.nodeName.toLowerCase()&&"svg"!==e.nodeName.toLowerCase()||ne.add({nodeName:e.nodeName.toLowerCase(),src:e.src||"",alt:re(e)})})).observe(e,{attributes:!1,childList:!0,subtree:!0})}()};return{start:()=>{"loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t()}}}let ce;function se({config:e={}}){if(!e.url||!e.app)throw new Error("Missing config.url or config.app");const t=T((()=>JSON.parse(sessionStorage.getItem("echo_config"))))||{},n={...R,...e,...t,eventDataDefaults:_,flags:O};return n.sendAltTextEvents=w({rate:d({pct:n.altTextEventSampleRatePct})}),n.sendCustomEvents=w({rate:p({pct:n.customEventSampleRatePct})}),n.sendInteractionEvents=w({rate:g({pct:n.interactionEventSampleRatePct})}),n.sendPerformanceMeasureEvents=w({rate:m({pct:n.performanceMeasureEventSampleRatePct})}),n.sendPerformanceNowEvents=w({rate:E({pct:n.performanceNowEventSampleRatePct})}),n.sendAltTextEvents&&ce.set(ae,"active",!0),n.sendCustomEvents&&ce.set(Z,"active",!0),n.sendInteractionEvents&&ce.set(K,"active",!0),n.sendPerformanceMeasureEvents&&ce.set(D,"active",!0),n.sendPerformanceNowEvents&&ce.set($,"active",!0),e.sendResourceData&&ce.set(B,"active",!0),ce.set(X,"active",!0),ce.mergeConfig(n),ce.serialize().forEach((([e,t])=>{const r=e({config:n});void 0!==t&&!0!==t||r.start()})),{version:"3.19.0"}}se.version="3.19.0",se.listen=e=>(Array.isArray(e)?e.forEach((e=>ce.add(e))):ce.add(e),se),(se.setupListeners=()=>{ce=c(),se.listen([{fn:oe},{fn:ie},{fn:X},{fn:Q,key:"sendErrors",data:!1},{fn:G,key:"sendPageViewData",data:!1},{fn:Z,active:!1},{fn:ae,active:!1},{fn:K,active:!1},{fn:D,active:!1},{fn:$,active:!1},{fn:B,active:!1}])})();var ue=se;const fe={kty:"RSA",e:"AQAB",alg:"RSA-OAEP-256",ext:!0,n:"qfmYlIcQaNUEjDU1r7DiPA4Jd_ldpf5b9hrw5JPY9X88_xgU1-ztkhElD9oej-m4qh66fIoYTFo0TzMtdmpWssOZoWTqDzqy5WEzPnYRtPrpoK3UcUigwFH1fsBSQQeTWi3ALlo3CrmOCPTDg9ZK2wPUXsykCaViBdeZZCn3rkuJ2mNjYt-T83fb4TxVLLZLjJfq_RYlileHDvugnb-44SBFZUBxj14GCYS4mwbT1vCgxnr777C3Qv9GKyfDmLAQsISAGMw2sp_Wcy9hxcO41ME1ngS6GnQT5ZJZWTCtMb2GmGt7ZPzYLSfNasM3R0UU_CaJU61gxAqnR4MmjCTWQQ",d:"HMiRmAVPOBFqlbuk_b18ciMGY3Ss8SEjvYdOZ8bJpLkJQUF4th__Ew8oMYkER-aSSOyvM8vG1Zco6IiIGFdlmxwYdgY6xJ1yEfnlzZv836Ll0Tnekdh0sFywr-gthamcwFajBrZsP7qwXL_mI_sz7ea2Hd-Vn7SL5uVdqmKY-MC3Tqo0dUWeDlNjYxcRh3hqO6kYCjkFNa4WB9pXwk_LKU7L_tQa4KgSqH1gsI-zI1M6OgEs5EfiPI1sxqiVxEypalsHQkGBYW-xnZLS47wfaW-SBkKw4Yr-UlEcAPHl9c5bpU0tOL8spQZiSDXq0E2el5nXVJpCh7Cgi5nAx2Qj4Q",p:"0kK96xalugusjH5zafNaMMP8_aY7w4YZ530JT0EOfoxB3FDLK8JeuUlRouB7OnkEvTk-4Ecn0m0yFI0-bTmQz1jyhuIJt3sp0wxiEcs0N5Rf2tFbDuyE6ZFr6gkhNSrHl9DtFe5aL2qNiOoOFJnEfAfhA3c3Su8OESEdeDyZ39U",q:"zvNfdUPT6Nq0bx2Gyz2PLqpy46qzdWB6zeP3CFDwNqlXh4mLhCgu4VY6WM9ALRyh_emEeOiY-52SS65NzvJTw0eBU-5D0fXJcju_mYzgKuXjU-3owRaANxPl4qXHzRsdNK5JDYhvJB56iwdSwNJOwGrH7GhlfzRGEsD8n8CBPr0",dp:"NgfSl_u84J8pWv0PmXVggtGKTIAQMYFfXL4jy0rzd4-BSSU14GvVPZXatZkr8W2xyxJP1wBR-l_3E5LsLNMzJCU-RW0GhDDRIZu4A8yNAY9ORoOv-5jJ2t90tLJd5zS0D44vrogOgsrFzh4fOin9dMXti59yBP6DReGVmhUwkXU",dq:"tfQq6LpTFbc8zzlBq24bdqcsTllmYXwLXPzi1K_9E8I-EA_x16dQ2JRsxmqp_T_geZOYAopW_1siJmJBTQOoe9hhr_6cKH0WudYodoPzECSBg-h4LVRwNHzNMUIa8o21Vv0pg7mCJlqZ2aT9sET4Mptv3b5IBthaB-Ef_AFQYW0",qi:"J8wPdRkByjtA96D8SKjqsUuO9SRfDiJ5dJr6W2X6hjd5W-KKoMknppUFpGoPH66zTADys9biKQ5FLab8BtVWhuFyb-QLs7pWz-fHrpuCgGL3pWA0cH_BUvQIMA4JSlnV9Mb4Vtfd49FrCSPE4jxXUdQqrgcgs0jFwY-o8Nbs7Vo"},le={kty:"RSA",e:"AQAB",alg:"RSA-OAEP-256",ext:!0,n:"qfmYlIcQaNUEjDU1r7DiPA4Jd_ldpf5b9hrw5JPY9X88_xgU1-ztkhElD9oej-m4qh66fIoYTFo0TzMtdmpWssOZoWTqDzqy5WEzPnYRtPrpoK3UcUigwFH1fsBSQQeTWi3ALlo3CrmOCPTDg9ZK2wPUXsykCaViBdeZZCn3rkuJ2mNjYt-T83fb4TxVLLZLjJfq_RYlileHDvugnb-44SBFZUBxj14GCYS4mwbT1vCgxnr777C3Qv9GKyfDmLAQsISAGMw2sp_Wcy9hxcO41ME1ngS6GnQT5ZJZWTCtMb2GmGt7ZPzYLSfNasM3R0UU_CaJU61gxAqnR4MmjCTWQQ"};function de(){return function(e,t,n){if(!crypto||!crypto.subtle)return Promise.resolve({exists:!1,passed:!1});const r="1234567891234567",{encrypt:o,decrypt:i}=function(e,t,n){const r=(t,n)=>crypto.subtle.importKey("jwk",t,e,!1,[n]).catch(pe("crypto.subtle.importKey"));return{decrypt:t=>r(n,"decrypt").then((n=>crypto.subtle.decrypt(e,n,t))).then((e=>function(e){const t=[];for(let n=0;n<e.byteLength;n++)t.push(String.fromCharCode(e[n]));return t.join("")}(new Uint8Array(e)))).catch(pe("crypto.subtle.decrypt")),encrypt:n=>r(t,"encrypt").then((t=>crypto.subtle.encrypt(e,t,function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(n)))).then((e=>new Uint8Array(e))).catch(pe("crypto.subtle.encrypt"))}}(e,t,n);return performance.mark("encrypt_start"),o(r).then((e=>(performance.measure("encrypt","encrypt_start"),performance.mark("decrypt_start"),i(e)))).then((t=>(performance.measure("decrypt","decrypt_start"),Promise.resolve({exists:!0,passed:r===t,algorithm:e.name,encryptTime:ge("encrypt"),decryptTime:ge("decrypt")}))))}({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},le,fe)}const pe=e=>t=>{console.log(t);const r=new CustomEvent(n.CUSTOM_EVENT_FOR_CLIENT,{detail:{message:t.message,id:e,type:"error"}});window.dispatchEvent(r)},ge=e=>performance.getEntriesByName(e).pop().duration,me=(e="")=>{let t=null;const n=(document.cookie||"").split(";");for(let r=0;r<n.length;r++){const o=(n[r]||"").trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}if(t)try{t=JSON.parse(t)}catch(e){}return t},Ee=e=>(["pageUrl","referer"].forEach((t=>{e[t]&&(e[t]=(e=>{const t=`(.*/order/(?:${["guest","detail","incidentfee","tradeinshippinginstructions","tradeininstructions","cancel","ship","edit"].join("|")})/)(?:[^?]*)`;return new URL(e).search&&(e=e.replace(/(.*\?)(?:.*)/,"$1<query>")),(e=e.replace(new RegExp(t),"$1<wo>")).replace(/\/([^/])+@([^/])+\/?/g,"/<email>@<domain>/")})(e[t]))})),e),ve=e=>[...document.querySelectorAll(e)],we=()=>{const e={};return ve("script").forEach((t=>{const n=(t.src||"").match(/(^|\/)(rs(-\w+)?)\//);n&&(e[n[2]]=!0)})),Object.keys(e)},Te=/https?:\/\/(?:www|epp|store|store-int|storeint|secure+.*).apple.com.*?\//;ue.listen({fn:({config:e})=>({start:()=>{window.addEventListener(n.ECHO_FEATURE,(t=>{a(l({config:e,eventType:n.CUSTOM_EVENT_FOR_DATABASE,eventData:t.detail}))}))}})}),window.ECHO_CONFIG&&function({config:e,metadata:t}){const r={transforms:[Ee,e=>((e,{metadata:t}={})=>({...e,asDc:me("as_dc"),audit:[["echo",()=>ue.version],["recon",e=>e.document.querySelector("[data-recon-global]")?"undef":void 0],["jquery",e=>e.jQuery?e.jQuery.fn&&e.jQuery.fn.jquery||"undef":void 0],["can",e=>e.can?e.can.VERSION||"undef":void 0],["coherent",e=>e.coherent&&e.coherent.version],["react",e=>e.React&&e.React.version]].filter((([,e])=>e(window))).reduce(((e,[t,n])=>({...e,[t]:{version:[n(window)]}})),{}),cookies:document.cookie.split("; ").map((e=>e.substr(0,e.indexOf("=")))),pageId:window.s&&window.s.pageName||"",pageShopPath:window.location.href.split("/shop")[1]||window.location.href.split("/search")[1]||"/",pixelRatio:Math.round(100*window.devicePixelRatio)/100||0,pluginCount:window.navigator.plugins?window.navigator.plugins.length:0,pxro:me("pxro")||"null",rsNames:we(),screenHeight:window.screen.height||0,screenWidth:window.screen.width||0,scripts:ve("script[src]").length,styles:ve("link[rel=stylesheet]").length,validPageUrl:Te.test(window.location.href),windowInnerHeight:window.innerHeight||0,windowInnerWidth:window.innerWidth||0,windowOrientation:window.screen.orientation?window.screen.orientation.angle:"orientation"in window&&window.orientation||0,windowOuterHeight:window.outerHeight||0,windowOuterWidth:window.outerWidth||0,...t}))(e,{metadata:t})]};ue({config:{...e,...r}}),(e=>!!T((()=>sessionStorage.getItem("crypto_reported")),e))(e)||(function(){const{ECHO_FEATURE:e}=n;de().then((t=>{window.dispatchEvent(new CustomEvent(e,{detail:t}))}))}(),(e=>{T((()=>sessionStorage.setItem("crypto_reported","1")),e)})(e))}(window.ECHO_CONFIG)}(),Echo={}.default}();